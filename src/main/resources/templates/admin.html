<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Авторизация</title>
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}"/>
    <link rel="stylesheet" th:href="@{/css/admin.css}"/>
    <link rel="stylesheet" th:href="@{/css/index.css}"/>
    <script type="text/javascript" th:src="@{/js/jquery-3.6.0.min.js}"></script>
    <script type="text/javascript" th:src="@{/js/bootstrap.min.js}"></script>
    <script type="text/javascript" th:src="@{/js/admin.js}"></script>
</head>
<body>

<div class="d-flex flex-column flex-md-row align-items-center pb-3 border-bottom" style="margin-top: 20px;">
    <span class="fs-4 titleInfo">Список билетов</span>
    <nav class="d-inline-flex mt-2 mt-md-0 ms-md-auto">
        <a class="textLink" href="">Выйти</a>
        <a class="textLink" th:href="@{/admin/add}">Добавить Пользователя</a>
    </nav>
</div>

<div th:each="teacher: ${teachers}" class="ticket p-3 rounded">
        <span>
            <form method="post" th:action="@{'/admin/delete/' + ${teacher.id}}">
                <button class="btn btn-danger btn-sm btnDelete">Удалить</button>
            </form>
            <form method="post" th:action="@{'/admin/edit/' + ${teacher.id}}">
                <button style="margin-right: 10px" class="btn btn-danger btn-sm btnDelete">Редактировать</button>
            </form>
            <h3 th:text="${teacher.firstName} + ' ' + ${teacher.lastName}"></h3><br>
            <img class="avatar" th:src="@{/images/avatar.png}">
            <form style="margin-top: 10px;" method="post" th:action="@{'/admin/add/class/' + ${teacher.id}}">
                <select class="form-select" id="selectSubject" name="selectSubject">
                    <option>Математика</option>
                    <option>Русский язык</option>
                    <option>Английский язык</option>
                    <option>Химия</option>
                    <option>Физика</option>
                    <option>Физкультура</option>
                </select>
                <label for="classP">Введите класс</label>
                <input type="text" class="form-control" id="classP" name="classP" placeholder="Введите класс...">
                <button style="margin-top: 10px;" type="submit" class="elementsForm btn btn-primary btn-sm">Добавить</button>
            </form>
        </span>
    <div class="accordion-contianer">
        <button class="accordion">Дополнительная информация</button>
        <div class="panel">
            <table class="table table-primary mt-5">
                <thead class="table-dark">
                <tr>
                    <th class="names" scope="col">Удаление предмета</th>
                    <th class="names" scope="col">Предмет</th>
                    <th class="names" scope="col">Класс</th>
                    <th class="names" scope="col">Удалить класс</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="t : ${teacher.teacher.classP}" >
                    <td>
                        <form method="post" th:action="@{'/admin/delete/subject/' + ${teacher.id} + '/' + ${t.key}}">
                            <button class="btn btn-danger btn-sm">Удалить</button>
                        </form>
                    </td>
                    <td th:text="${t.key}"></td>
                    <td th:text="${t.value}"></td>
                    <td>
                        <form method="post" th:action="@{'/admin/delete/class/' + ${teacher.id} + '/' + ${t.key}}">
                            <span>
                                <button class="btn btn-danger btn-sm">Удалить</button>
                                <select class="form-select selectForm" id="selectedSubject" name="selectedSubject">
                                    <option th:each="subject: ${t.value}" th:text="${subject}"></option>
                                </select>
                            </span>
                        </form>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

</body>
</html>